!function(e,t){"function"==typeof define&&define.amd?define(["leaflet"],e):"object"==typeof exports&&(module.exports=e(require("leaflet"))),void 0!==t&&t.L&&(t.L.YourPlugin=e(L))}(function(e){e.Control.Search=e.Control.extend({options:{position:"topright",placeholder:"Search",minNumberOfCharacters:0,searchOnEnter:!0,noResults:"No Records Found",search:function(e,t){},selected:function(e){}},onAdd:function(t){var s=this,n=this.options,i=e.DomUtil.create("div","leaflet-control-search"),l=e.DomUtil.create("input","",i);l.id="leaflet-search-input",l.name="leaflet-search-input",l.placeholder=n.placeholder;var o=e.DomUtil.create("div","",i);return o.id="leaflet-search-results",this.ul=e.DomUtil.create("ul","leaflet-search-results-list",o),$(l).on("keyup focus",function(e){s.search(s,this.value,e)}),e.DomEvent.disableClickPropagation(i),e.DomEvent.disableScrollPropagation(i),i},onRemove:function(e){},search:function(e,t,s){var n=e.options;(t.length<n.minNumberOfCharacters||0==t.length)&&e.clearResults(),t.length>n.minNumberOfCharacters&&n.search(e,t),1==n.searchOnEnter&&13==s.keyCode&&n.search(e,t)},setResults:function(t){var s=this,n=this.options;this.clearResults(),0==t.length?$(s.ul).append('<li class="leaflet-search-result-item">'+n.noResults+"</li>"):t.forEach(function(t){var n=e.DomUtil.create("li","leaflet-search-result-item");void 0!=t.imgIcon&&(n.innerHTML="<img class='icon-img' src="+t.imgIcon+">"),void 0!=t.icon&&(n.innerHTML+="<i class='"+t.icon+"'></i> "),n.innerHTML+=t.title,e.DomEvent.addListener(n,"click",function(e){s.itemSelected(t)}),e.DomEvent.addListener(n,"mouseover mouseout",function(e){$(this).toggleClass("hover")}),$(s.ul).append(n)}),this.displayResults()},itemSelected:function(e){this.options.selected(e),this.hideResults()},hideResults:function(){$("#leaflet-search-results").css("display","none")},displayResults:function(){$("#leaflet-search-results").css("display","block")},clearResults:function(){this.hideResults(),$(this.ul).html("")}}),e.control.search=function(t){return new e.Control.Search(t)}},window);
